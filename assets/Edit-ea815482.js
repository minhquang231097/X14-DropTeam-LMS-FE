import{j as e,a1 as f,a as y,L as m,B as u}from"./index-3c606b8c.js";import{A as C,T as c}from"./index-cdc44407.js";import{g as I}from"./course.api-4e1b7d81.js";import{h as E}from"./http-f102274f.js";import{I as g}from"./InputNoSpace-417b5109.js";import{F as s}from"./index-12623d09.js";import{u as b}from"./useMutation-ceb4604b.js";import{u as T}from"./useQuery-40a92881.js";import{B as N}from"./Breadcrumb-50e2422d.js";import{C as A}from"./index-5a0dc9b0.js";import{R as v,C as o}from"./row-95b75cc6.js";import{I as a}from"./index-b1c00d29.js";import{I as d}from"./index-67e6ce75.js";import{S as w}from"./index-527eb06c.js";import{S as D}from"./index.esm-01d4822a.js";import{n as p}from"./index-8ae2a9c4.js";import"./logo-with-shadow-2b5099bc.js";import"./TextArea-e57ce67b.js";import"./utils-339ae8cf.js";import"./DownOutlined-73990c22.js";import"./index-94bcace9.js";import"./PlusOutlined-3bd3bd01.js";import"./SearchOutlined-847740a6.js";const S=()=>{const[n]=s.useForm(),{id:r}=f(),l=y(),x=async i=>{if(!r)throw new Error("Missing id parameter");await E.put(`/course/${r}`,i)},{mutate:h,isLoading:j}=b(x,{onSuccess:()=>{p.success({message:"Update successful",description:"The course has been updated successfully"}),n.resetFields(),l("/admin/courses/all")},onError:i=>{p.error({message:"Update failed",description:i.message})}}),{data:t}=T({queryKey:["courses"],queryFn:async()=>(await I(r)).data.data});return t?e.jsxs(e.Fragment,{children:[e.jsx(N,{items:[{title:e.jsx(m,{to:"/admin",children:"Home"})},{title:e.jsx(m,{to:"/admin/courses/all",children:"Courses"})},{title:`${t.course_code}: ${t.title}`}],style:{padding:"4px",fontSize:"16px"}}),e.jsx(A,{children:e.jsxs(s,{form:n,onFinish:h,layout:"vertical",initialValues:{...t},children:[e.jsx(c.Title,{level:3,className:"mt-0 mx-1",children:"Update The Course"}),e.jsxs(v,{gutter:[16,16],children:[e.jsxs(o,{span:12,children:[e.jsx(s.Item,{label:"Course Code",name:"course_code",rules:[{required:!0}],children:e.jsx(g,{readOnly:!0})}),e.jsx(s.Item,{label:"Sessions per Course",name:"session_per_course",children:e.jsx(a,{min:0,style:{width:"100%"}})}),e.jsx(s.Item,{label:"Price",name:"price",children:e.jsx(a,{style:{width:"100%"}})})]}),e.jsxs(o,{span:12,children:[e.jsx(s.Item,{label:"Course Title",name:"title",rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(d,{})}),e.jsx(s.Item,{label:"Level",name:"level",children:e.jsx(w,{options:[{value:"BEGINNER",label:"BEGINNER"},{value:"INTERMEDIATE",label:"INTERMEDIATE"},{value:"ADVANCED",label:"ADVANCED"}]})}),e.jsx(s.Item,{label:"Discount",name:"discount",children:e.jsx(a,{min:0,style:{width:"100%"}})})]}),e.jsx(o,{span:24,children:e.jsx(s.Item,{label:"Course Description",name:"desc",children:e.jsx(d.TextArea,{})})})]}),e.jsx(s.Item,{children:e.jsxs(D,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(u,{type:"default",onClick:()=>l(`/admin/courses/show/${r}`),children:"Cancel"}),e.jsx(u,{type:"primary",htmlType:"submit",loading:j,children:"Update"})]})})]})})]}):e.jsx(c.Text,{children:"Course not found"})},ee=()=>e.jsx(C,{content:e.jsx(S,{})});export{ee as default};
