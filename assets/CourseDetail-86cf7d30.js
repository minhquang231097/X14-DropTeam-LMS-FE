import{a as C,r as f,j as e,B as b}from"./index-192efbd6.js";import{A as v,a as S,n as k}from"./CourseCard-0a55d7f8.js";import{B as F}from"./index.esm-9d8ca0d7.js";import{S as L}from"./Sheft-bc315797.js";import{H as q,F as A}from"./Footer-f2455721.js";import{h as B}from"./http-f102274f.js";import{m as c}from"./index-9ce30b7c.js";import{g as _}from"./workplaceList.api-3f3d2894.js";import{u as h}from"./useQuery-05bba707.js";import{M as O}from"./index-eea85bd8.js";import{S as $}from"./index-94760dca.js";import{g as M}from"./course.api-4e1b7d81.js";import{g as R}from"./lessonsList.api-a0ae6b1b.js";import{u as T}from"./utils-86e78d46.js";import{T as z}from"./index-a7bd7086.js";import{C as D}from"./Collapse-fa644e29.js";import"./index.esm-2bc070f5.js";import"./TextArea-7be9bcb6.js";import"./coursesList.api-347599cc.js";import"./logo-with-shadow-2b5099bc.js";import"./lodash-052e4736.js";import"./Table-716a92a9.js";import"./index-f92a1eda.js";import"./SearchOutlined-f2ed9689.js";import"./index-30314ea6.js";import"./DownOutlined-ac74e25c.js";import"./utils-b4e47d6c.js";import"./PlusOutlined-5c6b1902.js";const E=(i,o,s)=>{const t={course_id:i,workplace_id:o};B.post("/regist-course/student",JSON.stringify(t)).then(()=>{c.success("Success!"),setTimeout(()=>{s("/")},1200)}).catch(r=>{r.statusCode===403?c.error(r.message):c.error("Something went wrong!")})},I=i=>{const{title:o,course_code:s,price:t,discount:r,level:m,session_per_course:x,_id:d}=i,p=C(),[u,n]=f.useState(!1),[a,w]=f.useState("64f746f5a6ea2f374d13dee1"),j=h({queryKey:["workplace"],queryFn:async()=>(await _(1,50)).data.data}).data,g=[];j&&j.map(l=>{g.push({value:l._id,label:l.name})});const y=l=>{w(l)},N=()=>{E(d,a,p)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{type:"primary",size:"large",className:"w-full mt-4",onClick:()=>n(!0),children:"Learn"}),e.jsx(O,{title:e.jsxs("span",{className:"text-xl",children:["Register the Course ",i?o:""]}),centered:!0,open:u,onOk:()=>{n(!1),N()},onCancel:()=>n(!1),children:e.jsxs("p",{children:[e.jsx("span",{className:"text-green-600",children:"Are you sure you want to register for this course? "}),e.jsx("br",{}),e.jsx("br",{})," Course code: ",e.jsx("span",{className:"text-blue-500",children:s}),e.jsx("br",{}),e.jsx("br",{})," Course level:"," ",e.jsx("span",{className:"text-blue-500",children:String(m).toLowerCase().replace(/\b\w/g,l=>l.toUpperCase())}),e.jsx("br",{}),e.jsx("br",{})," Total sessions: ",e.jsx("span",{className:"text-blue-500",children:x}),e.jsx("br",{}),e.jsx("br",{})," Price:"," ",e.jsxs("span",{className:"text-yellow-500",children:[Number(r)?`$${Math.floor(Number(t)*(1-Number(r)/100))}`:`$${t}`," "]}),e.jsx("span",{className:"text-red-500 m-0 p-0 text-xs line-through",children:Number(r)?`${t}`:""}),e.jsx("br",{}),e.jsx("br",{}),"Please choose a facility:"," ",e.jsx($,{defaultValue:g[0],onChange:y,style:{width:280},options:g}),e.jsx("br",{})]})})]})},he=()=>{const i=T(),o=String(i.id)||"#",{data:s}=h({queryKey:["course",o],queryFn:async()=>(await M(o)).data.data}),t=h({queryKey:["lessons",o],queryFn:async()=>(await R(o,1,50)).data.data}).data,r=[];t&&t.map(a=>{r.push({key:a.id,label:a.title,children:e.jsx("p",{children:a.content})})});const m=()=>t?e.jsx(D,{items:r,accordion:!0}):"",x=[{key:"1",label:"Description",children:`${s?s.desc:""}`},{key:"2",label:"Contents",children:e.jsx("div",{className:"pb-4",children:e.jsx(m,{})})}],d=JSON.parse(localStorage.getItem("user")),[p,u]=c.useMessage(),n=()=>{p.open({type:"error",content:"You are not logged in!"})};return e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative z-0 h-[360px] bg-gradient-to-r from-[#F3904F] to-[#3B4371] dark:bg-gradient-to-r dark:from-[#67B26F] dark:to-[#4ca2cd] flex items-center"}),e.jsxs("div",{className:"max-w-[1280px] mx-auto",children:[e.jsxs("div",{className:"absolute top-28 w-[720px] text-white",children:[e.jsxs("div",{className:"max-md:px-8",children:[e.jsxs("p",{className:"text-3xl font-bold m-0",children:["Getting Started with ",s?s.title:""]}),e.jsxs("p",{className:"text-xl",children:[s?s.title:""," is the popular programming language which powers web pages and web applications. This course will get you started coding in ",s?s.title:"","."]})]}),e.jsxs("div",{className:"flex items-center justify-between max-md:px-8",children:[e.jsxs("div",{className:"flex items-center flex-1 text-white",children:[e.jsx(F,{className:"text-[#754FFE] text-2xl mr-2"}),s?String(s.level).toLowerCase().replace(/\b\w/g,a=>a.toUpperCase()):""]}),e.jsxs("div",{className:"flex items-center flex-1 text-white",children:[e.jsx(v,{className:"text-[#368A29] text-2xl mr-2"}),s?s.session_per_course:""," Sessions"]}),e.jsxs("div",{className:"flex items-center flex-1 text-white",children:[e.jsx(S,{className:"text-[#444] text-2xl mr-2"}),"1200 Enrolled"]})]})]}),e.jsxs("div",{className:"absolute z-10 top-[360px] w-full max-w-[1280px] grid grid-cols-3 gap-6 max-md:top-[360px] max-md:w-[96%] max-md:mx-4",children:[e.jsx("div",{className:"col-span-2 bg-white rounded-lg p-4 py-0",style:{boxShadow:"0 0 10px rgba(0,0,0,.18)",cursor:"pointer",border:"1px solid rgba(0,0,0,.1)"},children:e.jsx(z,{defaultActiveKey:"1",items:x})}),e.jsx("div",{className:"bg-white rounded-lg p-4 h-[272px]",style:{boxShadow:"0 0 10px rgba(0,0,0,.18)",cursor:"pointer",border:"1px solid rgba(0,0,0,.1)"},children:e.jsxs("div",{children:[e.jsx("img",{src:s&&s.image.length?s.image[0]:k,className:"w-full h-[212px] rounded-lg",alt:""}),d?e.jsx(I,{...s}):e.jsxs(e.Fragment,{children:[u,e.jsx(b,{size:"large",type:"primary",className:"w-full mt-4",onClick:n,children:"Learn"})]})]})})]})]}),e.jsx("div",{className:"mt-[320px] mb-[96px]",children:e.jsx(L,{title:"Recommended to you"})})]}),e.jsx(A,{})]})};export{he as default};
