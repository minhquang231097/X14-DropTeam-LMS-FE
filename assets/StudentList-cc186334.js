import{a as C,j as t,r as x,a6 as j,b as w,L as y}from"./index-3c606b8c.js";import{j as I}from"./index.esm-01d4822a.js";import{A as T,T as v}from"./index-cdc44407.js";import{g as b,s as N}from"./searchStudentForTeacher.api-8c02c55c.js";import{T as A}from"./Table-df32b718.js";import{T as h}from"./index-1b3e630a.js";import{u as S}from"./useQuery-40a92881.js";import{B as F}from"./Breadcrumb-50e2422d.js";import{C as E}from"./index-5a0dc9b0.js";import{I as _}from"./index-67e6ce75.js";import"./TextArea-e57ce67b.js";import"./logo-with-shadow-2b5099bc.js";import"./http-f102274f.js";import"./index-527eb06c.js";import"./DownOutlined-73990c22.js";import"./SearchOutlined-847740a6.js";import"./index-6ff8fa98.js";import"./utils-339ae8cf.js";import"./index-94bcace9.js";import"./PlusOutlined-3bd3bd01.js";const L=n=>{const c=C(),{searchText:d,data:s,filteredData:m,setSearchParams:i}=n,u={position:["bottomRight"],defaultCurrent:1,defaultPageSize:10,pageSizeOptions:[10,20,50],showSizeChanger:!0,showQuickJumper:!0},p=[{dataIndex:"index",width:"40px",render:(a,e,r)=>t.jsx(t.Fragment,{children:r+1})},{title:"Student Name",dataIndex:"fullname",width:"140px",filteredValue:[d],onFilter:(a,{fullname:e})=>String(e).toLowerCase().includes(String(a).toLowerCase())},{title:"Email",dataIndex:"email",width:"212px"},{title:"Phone Number",dataIndex:"phone_number",width:"120px"},{title:"Status",key:"tags",dataIndex:"status",width:"100px",render:(a,{status:e})=>t.jsx(t.Fragment,{children:e==="ACTIVE"&&t.jsx(h,{color:"green",children:e.toUpperCase()},"ACTIVE")||e==="INACTIVE"&&t.jsx(h,{color:"volcano",children:e.toUpperCase()},"INACTIVE")||t.jsx(h,{color:"geekblue",children:"unknown".toUpperCase()},"undefined")}),filters:[{text:"ACTIVE",value:"active"},{text:"INACTIVE",value:"inactive"},{text:"UNKNOWN",value:"unknown"}],onFilter:(a,{status:e})=>String(e).indexOf(String(a))===0},{title:"Day Of Birth",dataIndex:"dob",width:"120px"},{title:"Gender",dataIndex:"gender",width:"120px"},{title:"Address",dataIndex:"address",width:"120px"},{title:"Role",dataIndex:"role",width:"120px"}];let o=[];s!==void 0&&(o=d?m.data:s.data);const l=(a,e,r,P)=>{const{current:g,pageSize:f}=a;i(g),c(`/admin/users/students?page=${g}&limit=${f}`)};return t.jsx(A,{pagination:{...u,current:s&&s.page,total:s&&s.total},columns:p,dataSource:o,scroll:{y:600},style:{marginTop:16},rowKey:a=>a._id,onChange:l})},k=()=>{const[n,c]=x.useState(""),[d,s]=x.useState([]),{mode:m}=x.useContext(j),[i,u]=w(),p=i.get("student")??"",o=i.get("page")??"1",l=i.get("limit")??"10",a=S({queryKey:["role",p,o,l],queryFn:async()=>(await b("student",o,l)).data}).data;S({queryKey:["search",n],queryFn:async()=>{const r=await N(String(n).toUpperCase());s(r.data)}}).data;const e=r=>{c(r)};return t.jsxs(t.Fragment,{children:[t.jsx(F,{items:[{title:t.jsx(y,{to:"/admin",children:"Home"})},{title:"Students"}],style:{padding:"4px",fontSize:"16px"}}),t.jsxs(E,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx(v.Title,{level:3,className:"mt-0 mx-1",children:"Student List"}),t.jsx(_.Search,{placeholder:"Search...",style:{width:280},onChange:r=>e(r.target.value),onSearch:e,enterButton:t.jsx(I,{className:`text-${m==="light"?"black":"white"} align-middle text-[20px]`})})]}),t.jsx(L,{data:a,searchText:n,setSearchParams:u,filteredData:d})]})]})},et=()=>t.jsx(T,{content:t.jsx(k,{})});export{et as default};
