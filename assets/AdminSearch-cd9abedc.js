import{r,a6 as p,j as h}from"./index-192efbd6.js";import{j as x}from"./index.esm-2bc070f5.js";import{l as m}from"./lodash-052e4736.js";import{h as S}from"./http-f102274f.js";import{I as g}from"./index-30314ea6.js";import{u as y}from"./useQuery-05bba707.js";const j=(t,e)=>y({queryKey:[`${t}`,e],queryFn:async()=>(await S.get(`/${t}`,{params:{search:e}})).data.data,enabled:!!e,staleTime:2e3,refetchInterval:2e3}),Q=({endpoint:t,keysearch:e,onChangeInput:s})=>{const{mode:d}=r.useContext(p),[o,c]=r.useState(!1),[n,i]=r.useState(e),a=j(t,n);r.useEffect(()=>{o&&m.debounce(()=>{a.refetch()},1e3)},[a,o]);const f=l=>{i(l.target.value),c(!1),s(l.target.value)},u=()=>{c(!0),m.debounce(()=>{a.refetch()},1e3)};return h.jsx(g.Search,{placeholder:"Search...",allowClear:!0,enterButton:h.jsx(x,{className:`text-${d==="light"?"black":"white"} align-middle text-[24px]`}),size:"large",value:n||"",onPressEnter:u,onSearch:u,onChange:f})};export{Q as A};
