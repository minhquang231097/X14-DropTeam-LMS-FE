import{j as e,a1 as w,a as N,r as o,L as c,B as u}from"./index-af6f98f4.js";import{h as T}from"./http-c5fb7bd7.js";import{A as k,T as d}from"./index-d13faa49.js";import{g as q}from"./workplaceByID.api-883986bc.js";import{I as V}from"./InputNoSpace-a44944be.js";import{F as a}from"./index-7c6fd413.js";import{u as E}from"./useMutation-dc6052fc.js";import{u as O}from"./useQuery-bfcad032.js";import{B as P}from"./Breadcrumb-48414a6f.js";import{C as U}from"./index-d6a8b9d1.js";import{R as A,C as p}from"./row-a6e6fa3e.js";import{I as h}from"./index-67a3026d.js";import{S as L}from"./index-1c2c4fd9.js";import{S as B}from"./index.esm-1433434a.js";import{n as x}from"./index-2e76a315.js";import"./logo-with-shadow-2b5099bc.js";import"./TextArea-a8573295.js";import"./utils-4487a02d.js";import"./DownOutlined-146db5e7.js";import"./index-392b9f64.js";import"./PlusOutlined-a3d87d16.js";import"./SearchOutlined-92c31615.js";const M=()=>{const[n]=a.useForm(),{id:s}=w(),l=N(),[f,m]=o.useState(""),[j]=o.useState(""),[y,g]=o.useState("ON"),C=async t=>{if(!s)throw new Error("Missing id parameter");await T.put(`/workplace/${s}`,t)},{mutate:F,isLoading:I}=E(C,{onSuccess:()=>{x.success({message:"Update successful",description:"The facility has been updated successfully"}),n.resetFields(),l("/admin/facilities/all")},onError:t=>{x.error({message:"Update failed",description:t.message})}}),{data:r}=O({queryKey:["workplaces"],queryFn:async()=>(await q(s)).data.data});if(!r)return e.jsx(d.Text,{children:"Facility not found"});const v=t=>{const{value:i}=t.target;m(i)},S=t=>{const{value:i}=t.target;m(i)},b=t=>{g(t)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{items:[{title:e.jsx(c,{to:"/admin",children:"Home"})},{title:e.jsx(c,{to:"/admin/facilities/all",children:"Facilities"})},{title:`${r.name}`}],style:{padding:"4px",fontSize:"16px"}}),e.jsx(U,{children:e.jsxs(a,{form:n,onFinish:F,layout:"vertical",initialValues:{...r},children:[e.jsx(d.Title,{level:3,className:"mt-0 mx-1",children:"Update The Facility"}),e.jsxs(A,{gutter:[16,16],children:[e.jsxs(p,{span:12,children:[e.jsx(a.Item,{label:"Facility Name",name:"name",rules:[{required:!0,message:"Please enter the name"}],children:e.jsx(h,{required:!0,value:f,onChange:v})}),e.jsx(a.Item,{label:"Facility Code",name:"workplace_code",rules:[{required:!0}],children:e.jsx(V,{readOnly:!0})})]}),e.jsxs(p,{span:12,children:[e.jsx(a.Item,{label:"Facility Location",name:"address",rules:[{required:!0,message:"Please enter the location"}],children:e.jsx(h,{required:!0,value:j,onChange:S})}),e.jsx(a.Item,{label:"Facility Status",name:"status",rules:[{required:!0,message:"Please select the status"}],children:e.jsx(L,{options:[{label:"INACTIVE",value:"OFF"},{label:"ACTIVE",value:"ON"},{label:"UPCOMING",value:"UPCOMING"}],value:y,onChange:b})})]})]}),e.jsx(a.Item,{children:e.jsxs(B,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(u,{type:"default",onClick:()=>l(`/admin/facilities/show/${s}`),children:"Cancel"}),e.jsx(u,{type:"primary",htmlType:"submit",loading:I,children:"Update"})]})})]})})]})},le=()=>e.jsx(k,{content:e.jsx(M,{})});export{le as default};
