import{j as e,a1 as w,a as N,r as o,L as c,B as u}from"./index-363e3ed7.js";import{h as T}from"./http-f102274f.js";import{A as k,T as d}from"./index-bf24e54d.js";import{g as q}from"./workplaceByID.api-8d0b45fe.js";import{I as V}from"./InputNoSpace-3eded3ad.js";import{F as a}from"./index-6cc34bf2.js";import{u as E}from"./useMutation-023982ef.js";import{u as O}from"./useQuery-6d2d25c4.js";import{B as P}from"./Breadcrumb-43c879c8.js";import{C as U}from"./index-b91b8127.js";import{R as A,C as p}from"./row-a1d900f4.js";import{I as h}from"./index-a07bd811.js";import{S as L}from"./index-8484ea22.js";import{S as B}from"./index.esm-6c83b20a.js";import{n as x}from"./index-0a87366a.js";import"./logo-with-shadow-ac30bca6.js";import"./TextArea-bdb83b3b.js";import"./utils-dec5ad5f.js";import"./DownOutlined-860a4c38.js";import"./index-25cd65cf.js";import"./PlusOutlined-b3cabe21.js";import"./SearchOutlined-c83a2012.js";const M=()=>{const[n]=a.useForm(),{id:s}=w(),l=N(),[f,m]=o.useState(""),[j]=o.useState(""),[y,g]=o.useState("ON"),C=async t=>{if(!s)throw new Error("Missing id parameter");await T.put(`/workplace/${s}`,t)},{mutate:F,isLoading:I}=E(C,{onSuccess:()=>{x.success({message:"Update successful",description:"The facility has been updated successfully"}),n.resetFields(),l("/admin/facilities/all")},onError:t=>{x.error({message:"Update failed",description:t.message})}}),{data:r}=O({queryKey:["workplaces"],queryFn:async()=>(await q(s)).data.data});if(!r)return e.jsx(d.Text,{children:"Facility not found"});const v=t=>{const{value:i}=t.target;m(i)},S=t=>{const{value:i}=t.target;m(i)},b=t=>{g(t)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{items:[{title:e.jsx(c,{to:"/admin",children:"Home"})},{title:e.jsx(c,{to:"/admin/facilities/all",children:"Facilities"})},{title:`${r.name}`}],style:{padding:"4px",fontSize:"16px"}}),e.jsx(U,{children:e.jsxs(a,{form:n,onFinish:F,layout:"vertical",initialValues:{...r},children:[e.jsx(d.Title,{level:3,className:"mt-0 mx-1",children:"Update The Facility"}),e.jsxs(A,{gutter:[16,16],children:[e.jsxs(p,{span:12,children:[e.jsx(a.Item,{label:"Facility Name",name:"name",rules:[{required:!0,message:"Please enter the name"}],children:e.jsx(h,{required:!0,value:f,onChange:v})}),e.jsx(a.Item,{label:"Facility Code",name:"workplace_code",rules:[{required:!0}],children:e.jsx(V,{readOnly:!0})})]}),e.jsxs(p,{span:12,children:[e.jsx(a.Item,{label:"Facility Location",name:"address",rules:[{required:!0,message:"Please enter the location"}],children:e.jsx(h,{required:!0,value:j,onChange:S})}),e.jsx(a.Item,{label:"Facility Status",name:"status",rules:[{required:!0,message:"Please select the status"}],children:e.jsx(L,{options:[{label:"INACTIVE",value:"OFF"},{label:"ACTIVE",value:"ON"},{label:"UPCOMING",value:"UPCOMING"}],value:y,onChange:b})})]})]}),e.jsx(a.Item,{children:e.jsxs(B,{size:"middle",style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(u,{type:"default",onClick:()=>l(`/admin/facilities/show/${s}`),children:"Cancel"}),e.jsx(u,{type:"primary",htmlType:"submit",loading:I,children:"Update"})]})})]})})]})},le=()=>e.jsx(k,{content:e.jsx(M,{})});export{le as default};
