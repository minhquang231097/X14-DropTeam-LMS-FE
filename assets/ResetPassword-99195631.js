import{a as l,r as m,j as e,B as d,L as p}from"./index-66f4439b.js";import{H as c,F as u}from"./Footer-20c9312b.js";import{h as w}from"./http-c5fb7bd7.js";import{u as h}from"./utils-be795c51.js";import{F as o}from"./index-d0df1089.js";import{I as g}from"./index-77b0e24c.js";import{L as x}from"./logo-with-shadow-2b5099bc.js";import"./index.esm-585c5a33.js";import"./TextArea-61888de0.js";import"./lodash-a94e98cc.js";import"./useQuery-ef353a59.js";import"./utils-bbe17cbb.js";import"./Table-57a5b6e0.js";import"./index-772a2eaf.js";import"./DownOutlined-69c734f1.js";import"./SearchOutlined-0de1a286.js";import"./index-345bdbcd.js";import"./row-afd6c259.js";const j=async(r,s)=>{await w.put(`/user/reset-password?id=${r.id}&token=${r.token}`,{password:r.newPassword}).then(()=>{s("/login",{replace:!0}),s(0)}).catch(t=>{console.log(t)})},f=()=>{const r=l(),[s,t]=m.useState({id:"",token:"",newPassword:""}),a=h();return e.jsxs(o,{name:"normal_login",initialValues:{remember:!0},layout:"vertical",children:[e.jsx(o.Item,{name:"password",label:e.jsx("p",{className:"font-bold my-2",children:"New password"}),rules:[{required:!0,message:"Please input your password!"},{validator(i,n){return!n||n.length>=6?Promise.resolve():Promise.reject(new Error("Please enter password at least 6 characters"))}}],hasFeedback:!0,children:e.jsx(g.Password,{size:"large",type:"password",placeholder:"********",onChange:i=>t({newPassword:i.target.value,id:a.id||"",token:a.token||""})})}),e.jsx(o.Item,{children:e.jsx(d,{size:"large",type:"primary",htmlType:"submit",className:"w-full",onClick:()=>j(s,r),children:"Reset Password"})})]})},H=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx("div",{className:"w-full min-h-screen pt-20 pb-[96px] dark:bg-gradient-to-r dark:from-[#6441A5] dark:to-[#2a0845] bg-gradient-to-r from-[#FFA17F] to-[#00223E]",children:e.jsxs("div",{className:"bg-white w-[480px] p-10 pb-6 rounded-lg mx-auto",children:[e.jsx("img",{src:x,alt:"",className:"w-[20%]"}),e.jsx("h1",{children:"Reset Password"}),e.jsx("p",{children:"Fill the form to reset your password."}),e.jsx(f,{}),"Return to"," ",e.jsx(p,{to:"/login",className:"no-underline text-blue-500",children:"Login!"})]})}),e.jsx(u,{})]});export{H as default};
