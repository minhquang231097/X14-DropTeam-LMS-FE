import{j as e,a as g,r as u,b as w}from"./index-363e3ed7.js";import{l as C}from"./lodash-056257d6.js";import{H as j,F as f,g as S}from"./Footer-77e907dd.js";import{S as b}from"./SidebarTeacher-788f93fe.js";import{T as h}from"./index-76551327.js";import{T as y}from"./Table-859056a2.js";import{g as T}from"./coursesList.api-347599cc.js";import{u as p}from"./useQuery-6d2d25c4.js";import{I as N}from"./index-a07bd811.js";import"./logo-with-shadow-ac30bca6.js";import"./index.esm-6c83b20a.js";import"./TextArea-bdb83b3b.js";import"./http-f102274f.js";import"./index-45733f17.js";import"./index-8484ea22.js";import"./DownOutlined-860a4c38.js";import"./SearchOutlined-c83a2012.js";import"./index-ad79b64d.js";import"./utils-dec5ad5f.js";const E=a=>{const x=[{title:"No.",dataIndex:"index",width:"48px",render:(r,t,i)=>e.jsx(e.Fragment,{children:i+1})},{title:"Course Code",dataIndex:"class_code",width:"140px",render:(r,{course_code:t})=>e.jsx(e.Fragment,{children:t||""}),filteredValue:[a.searchText],onFilter:(r,{course_code:t})=>String(t).toLowerCase().includes(String(r).toLowerCase())},{title:"Specialize",dataIndex:"title",width:"180px",render:(r,{title:t})=>e.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis ",children:t})},{title:"Level",dataIndex:"level",width:"140px",render:(r,{level:t})=>e.jsx(e.Fragment,{children:t==="BEGINNER"&&e.jsx(h,{color:"geekblue",children:t.toUpperCase()},"BEGINER")||t==="INTERMEDIATE"&&e.jsx(h,{color:"green",children:t.toUpperCase()},"INTERMEDIATE")||t==="ADVANCED"&&e.jsx(h,{color:"volcano",children:t.toUpperCase()},"ADVANCED")})},{title:"Total Sessions",dataIndex:"session_per_course",width:"120px"},{title:"Description",dataIndex:"desc",render:(r,{desc:t})=>e.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis ",children:t})}];let o=[];const n=g();a.data!==void 0&&(o=a.searchText?a.filteredData.data:a.data.data);const c=(r,t,i,l)=>{const{current:d,pageSize:m}=r;a.setSearchParams(d),n(`/teacher/courses-list?page=${d}&limit=${m}`)};return e.jsx(y,{pagination:{position:["bottomCenter"],defaultCurrent:1,defaultPageSize:10,pageSizeOptions:[10,20],showSizeChanger:!0,current:a.data&&a.data.page,total:a.data&&(a.searchText?a.filteredData.count:a.data.total)},columns:x,dataSource:o,scroll:{y:340},bordered:!0,size:"small",rowKey:({_id:r})=>r,style:{padding:"0 16px"},onChange:c,onRow:({_id:r})=>({onClick:()=>{n(`/teacher/lessons-list?course_id=${r}&page=1&limit=10`)}})})},M=()=>{const[a,x]=u.useState(""),[o,n]=u.useState({}),[c,r]=w(),t=c.get("page")??1,i=c.get("limit")??10,{data:l}=p({queryKey:["classes",t,i],queryFn:async()=>(await T(t,i)).data});p({queryKey:["search",a],queryFn:async()=>{const s=await S(String(a).toUpperCase());n(s.data)}}).data;const d=s=>{x(s)},m=C.debounce(s=>{d(s.target.value)},1e3);return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsxs("div",{className:"max-w-[1280px] mx-auto py-8 grid grid-cols-7 grid-rows-auto gap-4",children:[e.jsx(b,{}),e.jsxs("div",{className:"col-span-6 row-span-4 bg-white dark:bg-[#1E293B] dark:border-none rounded-lg border-[1px] border-solid border-gray-200 overflow-hidden",style:{boxShadow:"0 0 10px rgba(0,0,0,.18)",cursor:"pointer",border:"1px solid rgba(0,0,0,.1)"},children:[e.jsxs("div",{className:"p-4 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xl text-[#F56A00] font-bold",children:"Courses List For Teacher"}),e.jsxs("p",{className:"m-0 text-sm text-gray-500 mt-2",children:["Total courses:"," ",e.jsx("span",{className:"text-blue-600",children:l&&(a?o.count:l.total)})]})]}),e.jsx(N.Search,{placeholder:"Search Course Code ...",style:{width:280},onChange:m,onSearch:d})]}),e.jsx(E,{data:l,searchText:a,setSearchParams:r,filteredData:o})]})]}),e.jsx(f,{})]})};export{M as default};
