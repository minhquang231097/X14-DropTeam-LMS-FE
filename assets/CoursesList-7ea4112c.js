import{j as e,a as S,b as L,r as d,C as R}from"./index-f27754b7.js";import{R as t,P as k}from"./Table-53a05175.js";import{C as D}from"./CourseCard-9af66e59.js";import{H as P,F as E}from"./Footer-2987409c.js";import{g as q}from"./coursesList.api-aacf9e29.js";import{h as p}from"./http-c5fb7bd7.js";import{u as c}from"./useQuery-2ba9aa5a.js";import{S as A}from"./index-a373ded8.js";import"./TextArea-e14d1cb1.js";import"./index.esm-74388d2a.js";import"./index-0da9c9cb.js";import"./SearchOutlined-c5d39dab.js";import"./index-124c7d56.js";import"./DownOutlined-33901757.js";import"./index.esm-15adab21.js";import"./logo-with-shadow-2b5099bc.js";import"./lodash-cafbb443.js";import"./utils-e1464f92.js";const G=s=>e.jsxs("div",{className:"bg-white dark:bg-[#1E293B] dark:border-none rounded-lg border-[1px] border-solid border-gray-200",style:{boxShadow:"0 0 10px rgba(0,0,0,.18)",cursor:"pointer",border:"1px solid rgba(0,0,0,.1)"},children:[e.jsx("p",{className:"font-bold text-lg m-0 py-4 px-5 text-[#F56A00] dark:text-gray-100 border-0 border-b-[1px] border-solid border-gray-300 dark:border-gray-500",children:"Filter"}),e.jsxs("div",{className:"px-5 text-gray-500 border-0 border-b-[1px] border-solid border-gray-300 dark:border-gray-500 pb-4",children:[e.jsx("p",{className:"font-bold",children:"Level"}),e.jsx("div",{className:"flex flex-col",children:e.jsxs(t.Group,{onChange:s.handleFilterLevel,defaultValue:"all",children:[e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"all",children:e.jsx("p",{className:"m-0 text-yellow-500",children:"All Level"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"beginner",children:e.jsx("p",{className:"m-0 text-[#1D39C4]",children:"Beginner"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"intermediate",children:e.jsx("p",{className:"m-0 text-[#389E0D]",children:"Intermediate"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"advanced",children:e.jsx("p",{className:"m-0 text-[#D4380D]",children:"Advanced"})})})]})})]}),e.jsxs("div",{className:"px-5 text-gray-500  mb-4",children:[e.jsx("p",{className:"font-bold",children:"Rating"}),e.jsx("div",{className:"flex flex-col",children:e.jsxs(t.Group,{onChange:s.handleFilterRate,defaultValue:"",children:[e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"",children:e.jsx("p",{className:"m-0 text-md text-[#F59E0B]",children:"All Rate"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"5",children:e.jsx("p",{className:"m-0 text-xl text-[#F59E0B]",children:"★★★★★"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"4",children:e.jsx("p",{className:"m-0 text-xl text-[#F59E0B]",children:"★★★★"})})}),e.jsx("div",{className:"mb-2",children:e.jsx(t,{value:"3",children:e.jsx("p",{className:"m-0 text-xl text-[#F59E0B]",children:"★★★"})})})]})})]})]}),K=(s,o,u,i)=>p.get("/course",{params:{sortField:s,sortOrder:o,page:u,limit:i}}),V=s=>p.get("/course",{params:{rate:s}}),_=s=>p.get("/course",{params:{level:s}}),te=()=>{const s=S(),[o,u]=L(),i=o.get("page")??1,h=o.get("limit")??6,{data:r}=c({queryKey:["courses",i,h],queryFn:async()=>(await q(i,h)).data}),y=(a,m)=>{s(`/courses-list?page=${a}&limit=${m}`)},[g,f]=d.useState(""),N=a=>{f(a)},j=c({queryKey:["sortBy",g],queryFn:async()=>(await K(g,1)).data.data}).data,[n,C]=d.useState("all"),F=a=>{C(a.target.value)},b=c({queryKey:["level",n],queryFn:async()=>(await _(String(n).toUpperCase())).data.data}).data,[x,w]=d.useState(null),B=a=>{w(a.target.value)},v=c({queryKey:["rate",x],queryFn:async()=>(await V(x)).data.data}).data;let l=[];return r!==void 0&&(l=r.data,j?l=j:v&&x?l=v:b&&n&&(n==="all"?l=r.data:l=b)),e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsxs(R,{theme:{components:{Pagination:{colorText:"#888",itemActiveBg:"transparent"},Select:{colorText:"#888",colorBorder:"#777",colorBgContainer:"trasparent",colorTextPlaceholder:"#888",colorBgSpotlight:"#888"},Radio:{colorBgContainer:"transparent"}}},children:[e.jsx("div",{className:"h-[128px] dark:bg-gradient-to-r dark:from-indigo-500 dark:via-purple-500 dark:to-pink-500 bg-gradient-to-r from-[#24C6DC] to-[#514A9D] flex items-center",children:e.jsx("p",{className:"max-w-[1280px] mx-auto text-white text-4xl font-bold m-0",children:"Courses List"})}),e.jsx("div",{className:"max-w-[1280px] mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between mb-4 mt-10 max-xl:px-8",children:[e.jsxs("p",{className:"text-gray-500",children:["Displaying ",e.jsx("span",{className:"text-blue-500 font-bold",children:r?r.count:""})," out of"," ",e.jsxs("span",{className:"text-blue-500 font-bold",children:[" ",r?r.total:""]})," courses"]}),e.jsx(A,{placeholder:"Sort by",style:{width:120},onChange:N,options:[{value:"create_at",label:"Newest"},{value:"course_code",label:"Course Code"},{value:"price",label:"Price"}]})]})}),e.jsxs("div",{className:"max-w-[1280px] mx-auto mb-[96px] grid grid-rows-1 grid-cols-4 gap-6 max-xl:px-8 max-xl:grid-cols-1",children:[e.jsx("div",{className:"row-span-1 max-xl:hidden",children:e.jsx(G,{handleFilterLevel:F,handleFilterRate:B})}),e.jsxs("div",{className:"col-span-3 grid grid-cols-3 row-span-1 max-xl:grid-cols-1",children:[e.jsx("div",{className:"col-span-3 grid grid-cols-3 gap-6 max-xl:col-span-2 max-xl:grid-cols-2 max-xl:flex max-xl:flex-wrap max-xl:justify-evenly",children:l.map(a=>d.createElement(D,{...a,key:a._id}))}),e.jsx("div",{className:"flex justify-center col-start-2 mt-10 max-xl:col-start-1",children:e.jsx(k,{defaultCurrent:1,defaultPageSize:6,pageSizeOptions:[6,9],showSizeChanger:!0,current:r&&r.page,total:r&&r.total,onChange:(a,m)=>y(a,m)})})]})]})]}),e.jsx(E,{})]})};export{te as default};
